{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"practica/","title":"Pr\u00e1ctica 01 \u2013 Implantaci\u00f3n de Aplicaciones Web (IAW)","text":"<p>Repositorio para la pr\u00e1ctica 01 del m\u00f3dulo de IAW. En este proyecto automatizamos el despliegue de una pila LAMP completa y la instalaci\u00f3n de varias herramientas de administraci\u00f3n y monitorizaci\u00f3n web.</p>"},{"location":"practica/#tecnologias-utilizadas","title":"Tecnolog\u00edas Utilizadas","text":""},{"location":"practica/#parte-1-instalacion-de-la-pila-lamp","title":"Parte 1: Instalaci\u00f3n de la Pila LAMP","text":"<p>El siguiente script en Bash (<code>#!/bin/bash</code>) se encarga de dejar el servidor web listo con Apache, PHP y MySQL.</p> <p>Nota: La actualizaci\u00f3n de repositorios la tenemos que hacer siempre que vayamos a instalar cualquier cosa.</p> <pre><code>set -ex\n\n# 1. Actualizamos los repositorios y paquetes del sistema\napt update\napt upgrade -y\n\n# 2. Instalamos el servidor web Apache\napt install apache2 -y\n\n# 3. Habilitamos el m\u00f3dulo rewrite de Apache\na2enmod rewrite\n\n# 4. Copiamos nuestro archivo de configuraci\u00f3n y reiniciamos\n# Cada vez que toquemos el archivo de conf, tendremos que reiniciar el servicio\ncp ../conf/000-default.conf /etc/apache2/sites-available\nsystemctl restart apache2\n\n# 5. Instalamos PHP y sus m\u00f3dulos\napt install php libapache2-mod-php php-mysql -y\nsystemctl restart apache2\n\n# 6. Copiamos el index y ajustamos permisos\ncp ../php/index.php /var/www/html\nchown -R www-data:www-data /var/www/html/* # Cambiamos el propietario para que no sea root\n\n# 7. Instalamos MySQL Server\napt install mysql-server -y\n</code></pre>"},{"location":"practica/#parte-2-instalacion-de-herramientas-y-monitorizacion","title":"Parte 2: Instalaci\u00f3n de Herramientas y Monitorizaci\u00f3n","text":"<p>Para esta parte tendr\u00edamos que haber ejecutado ya el script de arriba, es decir, ya tendr\u00edamos que tener la pila LAMP totalmente funcional.</p>"},{"location":"practica/#preparacion-del-entorno","title":"Preparaci\u00f3n del entorno","text":"<p>Importamos el archivo .env. Este archivo nos sirve para guardar variables y poder llamarlas despu\u00e9s dentro de nuestro script.</p> <pre><code>#!/bin/bash\nset -ex\n\nsource .env\n# Instalaci\u00f3n de phpMyAdmin\n# Configuramos las respuestas autom\u00e1ticas para que la instalaci\u00f3n no nos pida datos por pantalla.\n\necho \"phpmyadmin phpmyadmin/reconfigure-webserver multiselect apache2\" | debconf-set-selections\necho \"phpmyadmin phpmyadmin/dbconfig-install boolean true\" | debconf-set-selections\necho \"phpmyadmin phpmyadmin/mysql/app-pass password $PHPMYADMIN_APP_PASSWORD\" | debconf-set-selections\necho \"phpmyadmin phpmyadmin/app-password-confirm password $PHPMYADMIN_APP_PASSWORD\" | debconf-set-selections\n\napt update\napt install phpmyadmin php-mbstring php-zip php-gd php-json php-curl -y\nCon esto podemos comprobar que la instalaci\u00f3n de phpMyAdmin se ha hecho correctamente:\n\n# Instalaci\u00f3n de Adminer\n\nmkdir -p /var/www/html/adminer\n\n# Descargamos el archivo de Adminer y lo renombramos a index.php\nwget [https://github.com/vrana/adminer/releases/download/v5.4.1/adminer-5.4.1-mysql.php](https://github.com/vrana/adminer/releases/download/v5.4.1/adminer-5.4.1-mysql.php) -P /var/www/html/adminer\nmv /var/www/html/adminer/adminer-5.4.1-mysql.php /var/www/html/adminer/index.php\nComprobaci\u00f3n de Adminer:\n\n# Creaci\u00f3n de Base de Datos de Ejemplo\n# Esto no es realmente necesario pero al hacerlo podemos tener una primera toma de contacto con las variables de nuestro archivo .env.\n\n\n# Creamos la BD\nmysql -u root -e \"DROP DATABASE IF EXISTS $DB_NAME;\"\nmysql -u root -e \"CREATE DATABASE $DB_NAME;\"\n\n# Creamos un usuario/contrase\u00f1a y le damos privilegios\nmysql -u root -e \"DROP USER IF EXISTS '$USER'@'%';\"\nmysql -u root -e \"CREATE USER '$USER'@'%' IDENTIFIED BY '$DB_PASSWORD'\"\nmysql -u root -e \"GRANT ALL PRIVILEGES ON $DB_NAME.* TO '$USER'@'%';\"\n\n# Monitorizaci\u00f3n con GoAccess\n# Vamos a generar estad\u00edsticas en tiempo real protegiendo el directorio con autenticaci\u00f3n b\u00e1sica (htpasswd).\n\napt update\napt install goaccess -y\n\n# Creamos el directorio y generamos el HTML en tiempo real\nmkdir -p /var/www/html/stats\ngoaccess /var/log/apache2/access.log -o /var/www/html/stats/index.html --log-format=COMBINED --daemonize --real-time-html\n\n# Autenticaci\u00f3n b\u00e1sica\n# Copiamos la conf de Apache que contiene las directivas para /stats\ncp ../conf/000-default-stats.conf /etc/apache2/sites-available/000-default.conf\n\n# Creamos las credenciales\nhtpasswd -bc /etc/apache2/.htpasswd $STATS_USERNAME $STATS_PASSWORD\ncp ../htaccess/.htaccess /var/www/html/stats\n\nsystemctl restart apache2\n</code></pre>"},{"location":"practica2/","title":"Este repo va a ser para la pr\u00e1ctica 2","text":""}]}